name: Kanan H1 Monitor

on:
schedule:
- cron: "30 2 * * *"   # runs daily
workflow_dispatch:       # allows manual run (test button)

jobs:
run-monitor:
runs-on: ubuntu-latest

```
steps:
- name: Checkout repo
  uses: actions/checkout@v4

- name: Setup Python
  uses: actions/setup-python@v5
  with:
    python-version: "3.11"

- name: Install libraries
  run: pip install -r requirements.txt

- name: Run script
  env:
    EMAIL: ${{ secrets.EMAIL }}
    EMAIL_PASS: ${{ secrets.EMAIL_PASS }}
    TO_EMAIL: ${{ secrets.TO_EMAIL }}
  run: python monitor.py

- name: Commit updated data
  run: |
    git config user.name "github-actions"
    git config user.email "actions@github.com"
    git add data.json
    git commit -m "Daily H1 snapshot" || echo "No changes to commit"
    git push
```
